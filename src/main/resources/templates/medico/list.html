<!DOCTYPE html>
<!-- Refatorado: Removemos <head> e <body> internos. -->
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{fragments/layout :: layout(pageTitle=\'Lista de Médicos\', content=~{::content}, headContent=~{::headContent})}">

<!-- Conteúdo específico para o <head> desta página -->
<th:block th:fragment="headContent">
    <!-- Bootstrap Icons já está no layout.html -->
</th:block>

<!-- Conteúdo principal (main) desta página -->
<div th:fragment="content">
    <div class="card shadow">
        <div class="card-header bg-success text-white d-flex justify-content-between align-items-center">
            <h1 class="h4 mb-0">Médicos</h1>
            <a th:href="@{/medicos/novo}" class="btn btn-light">Novo Médico</a>
        </div>
        <div class="card-body">
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                <tr>
                    <th>Nome</th>
                    <th>CRM</th>
                    <th class="text-end">Ações</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="m : ${medicos}">
                    <td th:text="${m.nome}"></td>
                    <td th:text="${m.crm}"></td>
                    <td class="text-end">
                        <a th:href="@{\"/medicos/editar/" + ${m.id}}" class="btn btn-sm btn-warning" title="Editar">
                        <i class="bi bi-pencil"></i>
                        </a>
                        <a th:href="@{\"/medicos/excluir/" + ${m.id}}" class="btn btn-sm btn-danger" title="Excluir" onclick="return confirm(\'Tem certeza que deseja excluir este médico?\')">
                        <i class="bi bi-trash"></i>
                        </a>
                        <a th:href="@{\"/medicos/" + ${m.id} + "/consultas"}" class="btn btn-sm btn-info" title="Ver Consultas">
                        <i class="bi bi-calendar-check"></i>
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>

            <div class="mt-3">
                <a th:href="@{/}" class="btn btn-secondary">
                    <i class="bi bi-arrow-left"></i> Voltar
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Scripts específicos (se houver) -->
<!-- <th:block th:fragment="scripts">...</th:block> -->

</html>
